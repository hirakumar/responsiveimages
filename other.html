<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Responsive Images</title>
</head>

<body>


<img  src="test.jpg" name="mypic1" data-images={"xl":"img1-lg.jpg","lg":"img1-lg.jpg","md":"img1-md.jpg","sm":"img1-sm.jpg","xs":"img1-xs.jpg"} />
<img  src="test.jpg" name="mypic2" data-images={"xl":"img2-lg.jpg","lg":"img2-lg.jpg","md":"img2-md.jpg","sm":"img2-sm.jpg","xs":"img2-xs.jpg"} />

<script>

var ResponsiveImages=function(){
	this.images=document.images;
	this.w = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
	
	this.init=function(){
	
	for(var i=0; i<this.images.length; i++){
			var imgJson =JSON.parse(this.images[i].dataset.images);
			if(this.w>=320 && this.w<=576){
				this.images[i].src=imgJson.xs;
			}else if(this.w>576 && this.w<=768){
				this.images[i].src=imgJson.sm;
			}else if(this.w>768 && this.w<=992){
				this.images[i].src=imgJson.md;
			}else if(this.w>=992 && this.w<=1200){
				this.images[i].src=imgJson.lg;
			}else if(this.w>1200){
				this.images[i].src=imgJson.xl;
			}else{
				this.images[i].src=imgJson.xs;
			}
		}
		this.windowResize();
	}
	this.windowResize=function(){
		window.addEventListener("resize",resizeEvent,false)
		
		function resizeEvent(e){
			var w=e.target.innerWidth;
			images=document.images;
			console.log(w);
			for(var i=0; i<images.length; i++){
				var imgJson =JSON.parse(images[i].dataset.images);
				if(w>=320 && w<=576){
					images[i].src=imgJson.xs;
					
				}else if(w>576 && w<=768){
					images[i].src=imgJson.sm;
				}else if(this.w>768 && w<=992){
					images[i].src=imgJson.md;
				}else if(w>=992 && w<=1200){
					images[i].src=imgJson.lg;
				}else if(w>=1200){
					images[i].src=imgJson.xl;
				}else{
					images[i].src=imgJson.xs;
				}
			
			
			}
		}
	}
	
}

var img=new ResponsiveImages();
img.init();

</script>
</body>

</html>